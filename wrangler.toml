name = "gallery"
main = ".open-next/worker.js"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

assets = { directory = ".open-next/assets", binding = "ASSETS" }

# Use environment variables or Cloudflare dashboard for vars/secrets.
# Examples:
# - wrangler secret put ADMIN_PASS_HASH
# - wrangler secret put SESSION_SECRET
# - wrangler secret put RESEND_API_KEY
# - Add non-secret vars under [vars] or [env.<name>.vars] in this file
# - Or run: npm run wrangler:sync-env -- --file .env.local

[[d1_databases]]
binding = "DB"
database_name = "photos"
database_id = "52077508-5ee7-4e53-bad1-5eeb1b21e1b2"

[[kv_namespaces]]
binding = "FARALLON"
id = "e56fc8b8af6040738ee2b63ded4a0abe"

[[r2_buckets]]
binding = "MEDIA_BUCKET"
bucket_name = "photos"

[vars]
NEXT_PUBLIC_BASE_URL = "https://w.wpista.com"
COS_BUCKET = "photos-1369005368"
COS_REGION = "ap-guangzhou"
COS_DOMAIN = "https://i.wpista.com"
R2_DOMAIN = "https://im.wpista.com"
EMAIL_FROM = "noreply@wpista.com"


[observability]
[observability.logs]
enabled = true
invocation_logs = true